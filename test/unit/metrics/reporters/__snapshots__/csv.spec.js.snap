// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Test CSVReporter class Test flush method should call broker emit with changes 1`] = `
Array [
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.node.type.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.node.type",
      "nodejs",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.node.versions.moleculer.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.node.versions.moleculer",
      "0.13.9",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.node.versions.protocol.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.node.versions.protocol",
      "4",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.broker.namespace.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.broker.namespace",
      "",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.broker.started.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.broker.started",
      "0",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.broker.local.services.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.broker.local.services.total",
      "1",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.broker.middlewares.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.broker.middlewares.total",
      "11",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.registry.nodes.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.registry.nodes.total",
      "1",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.registry.nodes.online.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.registry.nodes.online.total",
      "1",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.registry.services.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.registry.services.total",
      "0",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.registry.actions.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.registry.actions.total",
      "0",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\moleculer.registry.events.total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "moleculer.registry.events.total",
      "0",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\os.datetime.utc.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "os.datetime.utc",
      "123456",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.info.csv",
    Array [
      "Timestamp",
      "Metric",
      "Value",
    ],
    Array [
      12345678000,
      "test.info",
      "Test Value",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.counter.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
    ],
    Array [
      12345678000,
      "test.counter",
      "",
      "5",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.counter.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
    ],
    Array [
      12345678000,
      "test.counter",
      "posts\\\\comments",
      "8",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.gauge-total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
    ],
    Array [
      12345678000,
      "test.gauge-total",
      "users-\\"John\\"",
      "-8",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.gauge-total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
    ],
    Array [
      12345678000,
      "test.gauge-total",
      "",
      "[object Object]",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.histogram.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Count",
      "Sum",
      "Bucket_1",
      "Bucket_5",
      "Bucket_10",
      "Bucket_0.005",
      "Bucket_0.01",
      "Bucket_0.025",
      "Bucket_0.05",
      "Bucket_0.1",
      "Bucket_0.25",
      "Bucket_0.5",
      "Bucket_2.5",
      "Min",
      "Mean",
      "Var",
      "StdDev",
      "Max",
      "Quantile_0.5",
      "Quantile_0.9",
      "Quantile_0.95",
      "Quantile_0.99",
      "Quantile_0.999",
    ],
    Array [
      12345678000,
      "test.histogram",
      "",
      4,
      18,
      0,
      2,
      4,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      2,
      2,
      4.5,
      9,
      3,
      8,
      2,
      8,
      8,
      8,
      8,
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.histogram.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Count",
      "Sum",
      "Bucket_1",
      "Bucket_5",
      "Bucket_10",
      "Bucket_0.005",
      "Bucket_0.01",
      "Bucket_0.025",
      "Bucket_0.05",
      "Bucket_0.1",
      "Bucket_0.25",
      "Bucket_0.5",
      "Bucket_2.5",
      "Min",
      "Mean",
      "Var",
      "StdDev",
      "Max",
      "Quantile_0.5",
      "Quantile_0.9",
      "Quantile_0.95",
      "Quantile_0.99",
      "Quantile_0.999",
    ],
    Array [
      12345678000,
      "test.histogram",
      "auth",
      3,
      11,
      1,
      2,
      3,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      1,
      3.6666666666666665,
      9.333333333333334,
      3.0550504633038935,
      7,
      3,
      7,
      7,
      7,
      7,
    ],
  ],
]
`;

exports[`Test CSVReporter class Test flush method should send changes only 1`] = `
Array [
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.counter.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
      "MyField",
    ],
    Array [
      12345678000,
      "test.counter",
      "",
      "12",
      "MyData",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.gauge-total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
      "MyField",
    ],
    Array [
      12345678000,
      "test.gauge-total",
      "posts",
      "-5",
      "MyData",
    ],
  ],
]
`;

exports[`Test CSVReporter class Test flush method should write changes only 1`] = `
Array [
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.counter.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
      "MyField",
    ],
    Array [
      12345678000,
      "test.counter",
      "",
      "12",
      "MyData",
    ],
  ],
  Array [
    "d:\\\\Work\\\\moleculer\\\\moleculer\\\\reports\\\\metrics\\\\test.gauge-total.csv",
    Array [
      "Timestamp",
      "Metric",
      "Label action",
      "Value",
      "MyField",
    ],
    Array [
      12345678000,
      "test.gauge-total",
      "posts",
      "-5",
      "MyData",
    ],
  ],
]
`;
